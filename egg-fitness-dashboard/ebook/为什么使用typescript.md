# Javascript的毛病

直至今日，在前端开发领域中，js依旧占据着大头。

由于以前前端开发比较简单，js主要处理一些非常简单的动画逻辑和表单验证，所以这门玩具语言并没有太大的发展。

哪怕是生态很好，用的人非常多，但依旧给人一种「玩具的感觉」。

时代的发展，应用的复杂，前端开发者们似乎找到了救命的稻草---**面向对象编程方式**。或许这在其他语言来说，已经是小菜一碟了，但是对于js的使用者们来说，仍然是知其然不知所以然的状态。

随着web网页变成了web应用，三大框架横行，我们的js已经从一门玩具语言变成了一门需要大家**深入学习**的语言了，正规语言的oop思想也在ES6中体现了出来。

什么oo，什么pp，都有了。那么，问题来了，目前，**js的最大毛病是什么？**

答案就是：**静态类型**


# 静态类型有何意义？

这一题的标准答案就是：**静态类型语言更有利于构建大型项目**

### 第一点 

静态类型检查可以做到**early fail**，即你编写的代码即使没有被执行到，一旦你编写代码时发生类型不匹配，语言在编译阶段（解释执行也一样，可以在运行前）即可发现。

**针对大型应用，测试调试分支覆盖困难，很多代码并不一定能够在所有条件下执行到。**

而假如你的代码简单到任何改动都可以从UI体现出来，这确实跟大型应用搭不上关系，那么静态类型检查确实没什么作用。

### 第二点

阅读代码的友好性

代码是否好读，ide有没有智能提示，已经成为大型项目维护的关键！

如果有写过其他静态类型语言的朋友一定有过这样的经历，**通过函数参数类型和返回值就能猜出这个函数是干嘛的**，不要小看这一点的变化。

在一个大型综合项目中，各个函数、类的关系错中复杂，不可能每个函数都有人编写细致的文档，所以静态类型就是非常重要的提示和约束。

而假如你的代码像jQuery这样所有函数基本全是API，根本没什么内部函数，而且逻辑关系看起来显而易见，这确实跟大型应用搭不上关系，那么静态类型对阅读代码确实也没什么帮助。

### 第三点

公司现在的前端项目大概有十几万行代码，各种从后端拿到的数据类型有上百种以前后端接口一改，要改字段，瞬间懵逼。

全局搜索，一个个改，各种牵扯到的东西改下来再测试一顿估计小半天没了。

用了 TypeScript 之后，把数据对应的 interface 改掉，然后重新编译一次，把编译失败的地方全部改掉就好了。

写代码的过程中各种错误在越早期修改的成本就越低。

试想没有静态检查跑一遍代码进某个奇怪的 case 才能复现的错误在写代码时期就直接给你的个错误提示，将是多么省时省力省钱。


# Typescript学习资料

官方的文档自然不用提了，搜索就有，介绍一些好的项目：

1. [typescript-handbook中文版](https://www.gitbook.com/book/zhongsp/typescript-handbook/details)
2. [使用typescript封装一款企业级框架（作者方正）](https://215566435.gitbooks.io/-typescript-web/content/)


